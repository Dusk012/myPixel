<body>
        <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
        <div class="error-messages">
            <h3>Errores:</h3>
            <ul>
                <% errors.forEach(msg => { %>
                    <li><%= msg %></li>
                <% }) %>
            </ul>
        </div>
    <% } %>

    <% if (locals.error) { %>
		<p><strong><%= locals.error %></strong></p>
	<% } %>

        <main>
                <h1>CAMBIAR CONTRASEÑA</h1>

                <form action="/usuarios/cambiar-password" method="POST">
                    <fieldset>
                        <legend>DATOS DE CONTRASEÑA</legend>
                        
                        <div class="input-container">
                            <label for="currentPassword">CONTRASEÑA ACTUAL:</label>
                            <input type="password" id="currentPassword" name="currentPassword" required
                                class="<%= errores.currentPassword ? 'error' : '' %>">
                            <% if (errores.currentPassword) { %>
                                <span class="error-message"><%= errores.currentPassword.msg %></span>
                            <% } %>
                        </div>

                        <div class="input-container">
                            <label for="newPassword">NUEVA CONTRASEÑA:</label>
                            <input type="password" id="newPassword" name="newPassword" required
                                class="<%= errores.newPassword ? 'error' : '' %>">
                            <% if (errores.newPassword) { %>
                                <span class="error-message"><%= errores.newPassword.msg %></span>
                            <% } %>
                        </div>

                        <div class="input-container">
                            <label for="confirmPassword">CONFIRMAR NUEVA CONTRASEÑA:</label>
                            <input type="password" id="confirmPassword" name="confirmPassword" required
                                class="<%= errores.confirmPassword ? 'error' : '' %>">
                            <% if (errores.confirmPassword) { %>
                                <span class="error-message"><%= errores.confirmPassword.msg %></span>
                            <% } %>
                        </div>

                        <button type="submit">ACTUALIZAR CONTRASEÑA</button>
                    </fieldset>
                </form>
            </div>
        </main>

    </div>
</body>

<script src="/js/password.js"></script>