<h1>Comparte imagenes!</h1>
<form action="/imagenes/submit" method="POST" enctype="multipart/form-data">
    <% if (locals.error) { %>
        <p><strong><%= locals.error %></strong></p>
    <% } %>
    <div><label>Titulo</label><input type="text" name="nombre" value="<%=datos.nombre %>"><%- helpers.error(errores, 'nombre') %></div>
    <p></p>
    <div><label>Descripci√≥n</label><input type="text" name="descripcion" value="<%=datos.descripcion %>"><%- helpers.error(errores, 'descripcion') %></div>
    <p></p>
    <div><label>Imagen:</label><input type="file" name="foto" id="imagen" accept="image/*" "><%- helpers.error(errores, 'imagen') %></div>
    <p></p>
 
    <div class="preview-container">
    <img id="preview" src="" alt="Vista previa" style="display: none;">
    </div>
    <div><button type="submit">Enviar</button></div>
</form>

<!--El scrip para mostrar como es la imagen antes de subirla ha sido apoyada en chatgpt -->
<script>
    document.getElementById('imagen').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('preview');
                preview.src = e.target.result;
                preview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    });
</script>